# 🎯 功能展示指南

本文件提供展示動物園管理系統時的測試參數與建議流程。

---

## 📌 帳號速查表

### Admin 帳號
| 員工 ID | 姓名 | 證照 |
|---------|------|------|
| **E001** | 郭雅惠 | Endangered, Carnivore |

### User 帳號（今日值班，可操作）
| 員工 ID | 姓名 | 證照 | 今日負責動物 |
|---------|------|------|-------------|
| **E003** | 李建宏 | Carnivore, Penguin | A002 Lion-002 |
| **E004** | 江俊豪 | Carnivore, Endangered | A005 Tiger-005 |
| **E005** | 黃慧玲 | Endangered | A004 Koala-004 |

> ⚠️ 注意：User 只能操作**今日值班且負責的動物**，否則會顯示權限不足。

---

## 👤 User 功能展示（使用 E003 登入）

| # | 功能 | 測試參數 | 預期結果 |
|---|------|---------|---------|
| 1 | 新增餵食紀錄 | 動物: `A002`, 飼料: `F001` (Beef), 數量: `5` | 餵食紀錄新增成功 |
| 2 | 新增身體資訊 | 動物: `A002`, 體重: `200`, 狀態: `1` (Normal) | 體重與狀態回報成功 |
| 3 | 查詢班表 | 直接查詢 | 顯示 E003 的班表列表 |
| 4 | 查詢代碼表 | 選擇 `1. 動物` | 顯示動物 ID、名稱、物種 |
| 5 | 修正自己紀錄 | 選擇 `feeding_records`, 動物 `A002`, 選最近一筆 | 修正成功 |
| 6 | 查詢動物趨勢 | 動物: `A002` | 顯示體重和餵食趨勢 |

### 測試權限限制（預期失敗）
- 用 E003 嘗試操作 `A001`（不是今日負責的動物）→ 應顯示「無操作權限」

---

## 🔐 Admin 功能展示（使用 E001 登入）

| # | 功能 | 測試參數 | 預期結果 |
|---|------|---------|---------|
| 1 | 修正紀錄稽核 | 直接查詢 | 顯示 MongoDB 稽核日誌 |
| 2 | 批量異常掃描 | 直接執行 | 掃描所有動物，列出異常 |
| 3 | 庫存報表 | 直接查詢 | 顯示各飼料目前庫存 |
| 4 | 庫存進貨 | 飼料: `F001`, 數量: `50` | 進貨成功 |
| 5 | 指派工作 | 員工: `E003`, 工作: `T002`, 動物: `A005` | 工作指派成功 |
| 6 | 修正紀錄 | 選擇 `feeding_records`, 動物 `A002` | Admin 可修正任何人的紀錄 |
| 7 | 高風險動物 | 直接查詢 | 顯示需關注的動物列表 |
| 8 | 查詢動物趨勢 | 動物: `A002` | 顯示體重和餵食趨勢 |
| 9 | 查詢代碼表 | 選擇 `4. 員工` | 顯示所有員工資訊 |
| 10 | 冒失鬼名單 | 直接查詢 | 顯示修正次數 >= 5 的員工 |
| 11 | 管理員工證照 | 員工: `E009`, 證照: `1. Carnivore` | 已授予證照 |

### 測試證照限制（預期失敗）
- 指派工作時，員工: `E002`（只有 Penguin 證照）, 動物: `A005`（需要 Carnivore）→ 應顯示「缺乏證照」

---

## 🎫 證照對應表

| 證照名稱 | 可照顧的動物 | 擁有的員工 |
|---------|-------------|-----------|
| Carnivore | Lion, Tiger, Brown Bear (61隻) | E001, E003, E004, E006 |
| Penguin | Penguin (22隻) | E002, E003, E006, E010, E015 |
| Endangered | Koala, Panda 等 (99隻) | E001, E004, E005, E007, E008, E011, E012, E020, E025, E030 |
| General | 一般動物 (18隻) | 無需證照 |

---

## 🚀 快速展示流程建議

### 1. User 流程 (3-5 分鐘)
```
登入 E003 → 新增餵食 A002 → 新增身體資訊 A002 → 查詢趨勢 A002 → 登出
```

### 2. Admin 流程 (5-7 分鐘)
```
登入 E001 → 批量異常掃描 → 庫存報表 → 進貨 F001 
→ 指派工作給 E003 → 查看稽核日誌 → 冒失鬼名單 → 登出
```

### 3. 權限測試 (2 分鐘)
```
登入 E003 → 嘗試操作 A001 (失敗) → 展示權限控管
登入 E001 → 指派 E002 照顧 A005 (失敗) → 展示證照控管
```

---

## 📝 備註

- 資料庫：PostgreSQL (zoo_db) + MongoDB (audit logs)
- 值班資料會過期，若展示日期不同，可能需要更新 `employee_shift` 表
- 若需重置資料庫，可使用 `zoo.backup` 還原
