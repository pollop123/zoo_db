[Test Agent] Initialized. Starting Full Coverage Test.

==================================================
開始執行完整測試
==================================================

=== 登入功能測試 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 正常登入: 登入成功: Admin
  [PASS] 錯誤密碼: 正確拒絕
  [PASS] 取得密碼: 員工: 李建宏, 密碼: zoo123

=== User: 查詢班表 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 查詢班表: 取得 10 筆班表

=== User: 取得負責動物 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 取得負責動物: 負責 1 隻動物

=== User: 餵食紀錄 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [FAIL] 餵食紀錄: 權限檢查失敗: column "required_skill" does not exist
LINE 1: SELECT required_skill FROM animal WHERE a_id = 'A002'
               ^


=== User: 秤重紀錄 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [FAIL] 秤重紀錄: 權限檢查失敗: column "required_skill" does not exist
LINE 1: SELECT required_skill FROM animal WHERE a_id = 'A002'
               ^


=== User: 查詢動物趨勢 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 動物趨勢: 取得 2 筆資料

=== User: 查詢被修正紀錄 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 被修正紀錄: 共 24 筆

=== User: 修改密碼 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 修改密碼: 密碼已更新

=== Admin: 稽核日誌 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 稽核日誌: 共 18 筆

=== Admin: 健康監控 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 批量異常掃描: 發現 0 筆異常
  [PASS] 高風險動物: 共 1 隻
  [PASS] 待處理警示: 共 2 筆

=== Admin: 庫存管理 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 庫存報表: 共 20 項
  [PASS] 庫存進貨: 進貨成功，庫存已更新。

=== Admin: 指派工作 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 指派工作: 指派失敗: 該員工缺乏 'Penguin' 證照，無法負責此動物！

=== Admin: 修正紀錄 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 修正紀錄: 已將 feeding_amount_kg 從 7.50 修正為 7.5

=== Admin: 冒失鬼名單 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 冒失鬼名單: 共 1 人

=== Admin: 員工管理 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 取得員工列表: 共 51 人
  [PASS] 停用員工: 已將員工狀態更新為 inactive

=== Admin: 證照管理 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 授予證照: 已有此證照

=== Admin: 飲食管理 ===
[SUCCESS] Connected to PostgreSQL (Connection Pool Initialized).
[SUCCESS] Connected to MongoDB.
  [PASS] 取得飲食設定: 共 27 筆
  [PASS] 新增飲食: 設定已存在

==================================================
測試完成!
  通過: 22
  失敗: 2
  跳過: 0
==================================================

[Info] Skipping database restore (--no-restore flag used)
